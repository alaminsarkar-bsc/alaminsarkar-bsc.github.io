<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>iPray</title>
    
    <!-- Meta Tags -->
    <meta property="og:title" content="iPray - ‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏‡ßá‡¶∞ ‡¶â‡¶†‡ßã‡¶®">
    <meta property="og:description" content="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶®‡ßá‡¶∞ ‡¶¶‡ßã‡ßü‡¶æ ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶®‡ßç‡¶Ø‡¶¶‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¶‡ßã‡ßü‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§">
    <meta property="og:image" content="https://pnsvptaanvtdaspqjwbk.supabase.co/storage/v1/object/public/post_images/default_banner.jpg">
    <meta property="og:url" content="https://doa-angina.vercel.app/">
    <meta property="og:type" content="website">
    <meta property="og:site_name" content="iPray">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#ffffff">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">

    <!-- Image Generation Library (For Story Editor) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>
<body id="home-page">

    <!-- Offline Indicator -->
    <div id="offlineIndicator" class="offline-indicator" style="display: none;"></div>

    <!-- Admin Links (Previous Features Kept) -->
    <a href="/admin.html" id="adminLink" style="display: none; position: fixed; top: 110px; right: 20px; z-index: 1000; background: #2c3e50; color: white; padding: 8px 12px; border-radius: 20px; text-decoration: none; font-size: 13px; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">
        <i class="fas fa-shield-alt"></i> Admin
    </a>
    <a href="/campaign-admin.html" id="campaignAdminLink" style="display: none; position: fixed; top: 150px; right: 20px; z-index: 1000; background: #27ae60; color: white; padding: 8px 12px; border-radius: 20px; text-decoration: none; font-size: 13px;">
        <i class="fas fa-tasks"></i> Campaign
    </a>

    <!-- Login Modal -->
    <div id="loginPage" style="display: none;">
        <div class="login-box">
            <h1>iPray</h1>
            <p>‡¶¨‡¶ø‡¶∂‡ßç‡¶¨‡¶æ‡¶∏ ‡¶ì ‡¶¶‡ßã‡ßü‡¶æ‡¶∞ ‡¶è‡¶ï ‡¶Ö‡¶®‡¶®‡ßç‡¶Ø ‡¶Æ‡ßá‡¶≤‡¶¨‡¶®‡ßç‡¶ß‡¶®‡•§ ‡¶è‡¶ó‡¶ø‡ßü‡ßá ‡¶Ø‡ßá‡¶§‡ßá ‡¶≤‡¶ó‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§</p>
            <button id="googleSignInBtn"><i class="fab fa-google"></i> ‡¶ó‡ßÅ‡¶ó‡¶≤ ‡¶¶‡¶ø‡ßü‡ßá ‡¶∏‡¶æ‡¶á‡¶® ‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <button id="facebookSignInBtn" class="facebook-btn"><i class="fab fa-facebook-f"></i> ‡¶´‡ßá‡¶∏‡¶¨‡ßÅ‡¶ï ‡¶¶‡¶ø‡ßü‡ßá ‡¶∏‡¶æ‡¶á‡¶® ‡¶á‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            <div class="login-divider">‡¶Ö‡¶•‡¶¨‡¶æ</div>
            <div id="phoneLoginContainer">
                <div id="phoneInputStep">
                    <input type="tel" id="phoneInput" class="login-input" placeholder="‡¶Æ‡ßã‡¶¨‡¶æ‡¶á‡¶≤ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ (+880...)" />
                    <button id="sendOtpBtn" class="phone-login-btn">‡¶ì‡¶ü‡¶ø‡¶™‡¶ø ‡¶™‡¶æ‡¶†‡¶æ‡¶®</button>
                </div>
                <div id="otpInputStep" style="display: none;">
                    <input type="text" id="otpInput" class="login-input" placeholder="‡ß¨ ‡¶°‡¶ø‡¶ú‡¶ø‡¶ü‡ßá‡¶∞ ‡¶ï‡ßã‡¶°" />
                    <button id="verifyOtpBtn" class="phone-login-btn">‡¶Ø‡¶æ‡¶ö‡¶æ‡¶á ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                    <button id="backToPhoneBtn" class="text-btn">‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main App Container -->
    <div id="appContainer">
        <!-- HEADER -->
        <div class="header-container">
            <div class="header-top-row">
                <a href="/index.html" class="logo-link">iPray</a>
                
                <!-- Search Box -->
                <input type="search" id="searchInput" class="floating-search-box" placeholder="‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®...">

                <div class="header-actions-top">
                    <a href="islamic.html" class="top-icon-btn" title="‡¶ï‡ßÅ‡¶∞‡¶Ü‡¶® ‡¶ì ‡¶π‡¶æ‡¶¶‡¶ø‡¶∏">
                        <i class="fas fa-book-open" style="color: #8e44ad;"></i>
                    </a>
                    <!-- Create Story Button -->
                    <button id="createStoryBtn" class="top-icon-btn" title="‡¶∏‡ßç‡¶ü‡ßã‡¶∞‡¶ø ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®">
                        <i class="fas fa-plus" style="color: #27ae60;"></i>
                    </button>
                    <button id="searchBtn" class="top-icon-btn" title="‡¶ñ‡ßÅ‡¶Å‡¶ú‡ßÅ‡¶®">
                        <i class="fas fa-search"></i>
                    </button>
                    <button id="globalDonateBtn" class="top-icon-btn" title="‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü">
                        <i class="fas fa-hand-holding-heart" style="color: #e74c3c;"></i>
                    </button>
                </div>
            </div>

            <!-- Bottom Row: Navigation Tabs -->
            <div class="header-nav-row">
                <a href="/index.html" class="nav-tab active" id="homeTabBtn">
                    <i class="fas fa-home"></i>
                </a>
                <button id="videoFeedBtn" class="nav-tab">
                    <i class="fas fa-film"></i>
                </button>
                <button id="feedToggleBtn" class="nav-tab">
                    <i class="fas fa-users"></i>
                </button>
                
                <!-- Add Post Button -->
                <a href="post.html" class="nav-tab" id="addPostLink" title="‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®">
                    <i class="fas fa-plus-circle" style="font-size: 28px; color: var(--text-color);"></i>
                </a>

                <div class="notification-wrapper">
                    <button id="notificationBtn" class="nav-tab">
                        <i class="fas fa-bell"></i>
                        <span id="notification-badge" class="notification-badge" style="display: none;"></span>
                    </button>
                </div>
                
                <a href="/profile.html" class="nav-tab">
                    <i class="fas fa-user-circle"></i>
                </a>
            </div>
        </div>

        <main id="main-content" class="main-view">
            <!-- Story Skeleton -->
            <div id="storySkeletonContainer" class="story-container">
                <div class="skeleton-story"></div>
                <div class="skeleton-story"></div>
                <div class="skeleton-story"></div>
                <div class="skeleton-story"></div>
            </div>

            <!-- Real Story Container (Bubbles) -->
            <div id="storyContainer" class="story-container" style="display: none;"></div>
            
            <!-- Feed Skeleton -->
            <div id="skeletonContainer">
                <div class="skeleton-card">
                    <div class="skeleton-header">
                        <div class="skeleton-avatar"></div>
                        <div class="skeleton-author-info">
                            <div class="skeleton-line" style="width: 50%;"></div>
                            <div class="skeleton-line" style="width: 30%;"></div>
                        </div>
                    </div>
                    <div class="skeleton-line" style="width: 90%;"></div>
                    <div class="skeleton-line" style="width: 70%;"></div>
                    <div class="skeleton-block" style="height: 200px;"></div>
                </div>
            </div>

            <!-- Posts Feed -->
            <div class="feed-container" id="feedContainer"></div>
        </main>
    </div>

    <!-- ==============================================
         NEW FACEBOOK-STYLE STORY EDITOR MODAL
         ============================================== -->
    <div id="storyCreateModal" class="story-editor-modal" style="display: none;">
        
        <!-- Screen 1: Capture / Source Selection -->
        <div id="captureScreen" class="editor-screen">
            <div class="editor-header-controls">
                <button class="icon-btn close-editor" id="closeStoryEditorBtn"><i class="fas fa-times"></i></button>
                <div class="header-title">Create Story</div>
                <button class="icon-btn settings"><i class="fas fa-cog"></i></button>
            </div>

            <!-- Camera Viewfinder (Video) -->
            <div class="camera-viewfinder">
                <video id="liveCamera" autoplay playsinline muted></video>
                <div id="cameraPermissionMsg" style="display:none; text-align:center; color:white;">
                    <i class="fas fa-video-slash" style="font-size:30px; margin-bottom:10px;"></i>
                    <p>‡¶ï‡ßç‡¶Ø‡¶æ‡¶Æ‡ßá‡¶∞‡¶æ ‡¶™‡¶æ‡¶∞‡¶Æ‡¶ø‡¶∂‡¶® ‡¶®‡ßá‡¶á ‡¶Ö‡¶•‡¶¨‡¶æ ‡¶¨‡ßç‡¶∞‡¶æ‡¶â‡¶ú‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡¶õ‡ßá ‡¶®‡¶æ‡•§</p>
                </div>
            </div>

            <!-- Bottom Controls for Capture -->
            <div class="capture-bottom-bar">
                <div class="gallery-picker-btn" id="openGalleryBtn">
                    <i class="fas fa-images"></i>
                </div>
                
                <div class="shutter-container">
                    <button id="captureBtn" class="shutter-btn"></button>
                </div>
                
                <div class="camera-flip-btn" id="flipCameraBtn">
                    <i class="fas fa-sync-alt"></i>
                </div>
            </div>

            <!-- Hidden inputs -->
            <input type="file" id="storyFileInput" accept="image/*,video/*" hidden>

            <!-- Mode Selector -->
            <div class="camera-modes">
                <span class="mode-text active" data-mode="normal">NORMAL</span>
                <span class="mode-text" data-mode="text">TEXT</span>
            </div>
        </div>

        <!-- Screen 2: Editing Canvas (After Capture/Upload) -->
        <div id="editScreen" class="editor-screen" style="display: none;">
            <div class="editor-top-bar">
                <button class="icon-btn" id="backToCaptureBtn"><i class="fas fa-arrow-left"></i></button>
                
                <div class="editor-tools-right">
                    <button class="icon-btn tool" id="toolTextBtn"><i class="fas fa-font"></i></button>
                    <button class="icon-btn tool" id="toolStickerBtn"><i class="far fa-smile"></i></button>
                    <button class="icon-btn tool" id="toolDrawBtn"><i class="fas fa-pen"></i></button>
                </div>
            </div>

            <!-- The Composition Area -->
            <div id="editorCanvasWrapper" class="editor-canvas-wrapper">
                <!-- 1. Background Media -->
                <div id="mediaLayer" class="layer media-layer">
                    <img id="editorImage" style="display:none;">
                    <video id="editorVideo" playsinline loop muted style="display:none;"></video>
                    <div id="textOnlyBackground" style="display:none; width:100%; height:100%;"></div>
                </div>

                <!-- 2. Drawing Layer -->
                <canvas id="drawingCanvas" class="layer drawing-layer"></canvas>

                <!-- 3. Elements Layer (Text/Stickers) -->
                <div id="elementsLayer" class="layer elements-layer"></div>
            </div>

            <!-- Bottom Action Bar -->
            <div class="editor-bottom-bar">
                <div class="save-story-btn" id="saveLocalBtn">
                    Save
                </div>
                <button class="share-story-btn" id="publishStoryBtn">
                    Share Story <i class="fas fa-chevron-right"></i>
                </button>
            </div>

            <!-- Color Palette (Hidden by default) -->
            <div id="editorColorPalette" class="color-palette-scroll" style="display: none;">
                <div class="color-dot" style="background: #ffffff;" data-color="#ffffff"></div>
                <div class="color-dot" style="background: #000000;" data-color="#000000"></div>
                <div class="color-dot" style="background: #ff0000;" data-color="#ff0000"></div>
                <div class="color-dot" style="background: #00ff00;" data-color="#00ff00"></div>
                <div class="color-dot" style="background: #0000ff;" data-color="#0000ff"></div>
                <div class="color-dot" style="background: #ffff00;" data-color="#ffff00"></div>
            </div>
        </div>

        <!-- Text Input Overlay -->
        <div id="textInputOverlay" class="text-input-overlay" style="display: none;">
            <div class="text-tools-header">
                <button id="textAlignBtn" class="tool-btn">Align</button>
                <button id="textDoneBtn" class="done-btn">Done</button>
            </div>
            <textarea id="storyTextInput" placeholder="Start typing..."></textarea>
            
            <!-- Color slider for text -->
            <div class="text-color-slider">
                <div class="color-dot" style="background: #ffffff;" data-color="#ffffff"></div>
                <div class="color-dot" style="background: #000000;" data-color="#000000"></div>
                <div class="color-dot" style="background: #ff0000;" data-color="#ff0000"></div>
                <!-- More colors added by JS -->
            </div>
        </div>

        <!-- Sticker Picker Overlay -->
        <div id="stickerPickerOverlay" class="sticker-picker" style="display: none;">
            <div class="sticker-header">
                <span>Stickers</span>
                <button id="closeStickerBtn">&times;</button>
            </div>
            <div class="sticker-grid">
                <div class="sticker-item">üòç</div><div class="sticker-item">üòÇ</div>
                <div class="sticker-item">üî•</div><div class="sticker-item">‚ù§Ô∏è</div>
                <div class="sticker-item">ü§≤</div><div class="sticker-item">üïå</div>
                <div class="sticker-item">üéâ</div><div class="sticker-item">üò¢</div>
                <div class="sticker-item">üëç</div><div class="sticker-item">üëé</div>
                <div class="sticker-item">üíØ</div><div class="sticker-item">üåü</div>
                <div class="sticker-item">LOCATION</div><div class="sticker-item">TIME</div>
            </div>
        </div>
    </div>
    <!-- END OF STORY EDITOR -->


    <!-- Story Viewer Modal (Updated Structure) -->
    <div id="storyViewerModal" class="story-viewer-modal" style="display: none;">
        <div id="storyProgressBars" class="progress-bar-wrapper"></div>
        
        <div class="story-header-info" id="storyUserInfo">
            <!-- User info injected by JS -->
        </div>
        
        <button id="closeStoryViewerBtn" class="close-viewer-btn">&times;</button>
        
        <div class="story-viewer-media">
            <!-- Media injected by JS -->
        </div>
        
        <!-- Navigation Tap Areas -->
        <div id="prevStoryBtn" class="nav-area left"></div>
        <div id="nextStoryBtn" class="nav-area right"></div>
    </div>


    <!-- ==============================================
         EXISTING MODALS (KEPT AS REQUESTED)
         ============================================== -->
    
    <!-- Edit Post Modal -->
    <div id="editPrayerModal" class="modal">
        <div class="modal-content">
            <form id="editPrayerForm">
                <div class="modal-header">
                    <h2 class="modal-title">‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ</h2>
                    <span class="close-btn">&times;</span>
                </div>
                <div class="modal-body">
                    <input type="hidden" id="editPrayerId">
                    <div class="form-group">
                        <label>‡¶∂‡¶ø‡¶∞‡ßã‡¶®‡¶æ‡¶Æ</label>
                        <input type="text" id="editPrayerTitleInput" required>
                    </div>
                    <div class="form-group">
                        <label>‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§</label>
                        <textarea id="editPrayerDetailsTextarea" rows="5" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>‡¶á‡¶â‡¶ü‡¶ø‡¶â‡¶¨ ‡¶≤‡¶ø‡¶Ç‡¶ï (‡¶ê‡¶ö‡ßç‡¶õ‡¶ø‡¶ï)</label>
                        <input type="text" id="editYoutubeLinkInput">
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="savePrayerBtn" type="submit">‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Report Modal -->
    <div id="reportModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
                <span class="close-btn">&times;</span>
            </div>
            <div class="modal-body">
                <form id="reportForm">
                    <input type="hidden" id="reportContentId">
                    <input type="hidden" id="reportContentType">
                    <div class="form-group">
                        <label>‡¶ï‡¶æ‡¶∞‡¶£</label>
                        <select id="reportCategory" required>
                            <option value="">‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®...</option>
                            <option value="SPAM">‡¶∏‡ßç‡¶™‡ßç‡¶Ø‡¶æ‡¶Æ</option>
                            <option value="HARASSMENT">‡¶π‡¶æ‡¶∞‡¶æ‡¶∏‡¶Æ‡ßá‡¶®‡ßç‡¶ü</option>
                            <option value="HATE_SPEECH">‡¶ò‡ßÉ‡¶£‡¶æ‡¶Æ‡ßÇ‡¶≤‡¶ï ‡¶¨‡¶ï‡ßç‡¶§‡¶¨‡ßç‡¶Ø</option>
                            <option value="INAPPROPRIATE">‡¶Ö‡¶®‡ßÅ‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§</option>
                            <option value="OTHER">‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <textarea id="reportDescription" rows="3" placeholder="‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§..."></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="submitReportBtn">‡¶∞‡¶ø‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®</button>
            </div>
        </div>
    </div>

    <!-- Donation Modal (Campaign) -->
    <div id="donationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">‡¶∏‡¶π‡¶æ‡ßü‡¶§‡¶æ ‡¶™‡¶æ‡¶†‡¶æ‡¶®</h2>
                <span class="close-btn">&times;</span>
            </div>
            <div class="modal-body" id="donationDetailsBody"></div>
        </div>
    </div>

    <!-- General Donation Modal -->
    <div id="generalDonationModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">iPray ‡¶∏‡¶æ‡¶™‡ßã‡¶∞‡ßç‡¶ü</h2>
                <span class="close-btn">&times;</span>
            </div>
            <div class="profile-tabs" style="margin-bottom:15px;">
                <button class="tab-btn active" onclick="switchDonationTab('donate')">‡¶°‡ßã‡¶®‡ßá‡¶ü</button>
                <button class="tab-btn" onclick="switchDonationTab('history')">‡¶π‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡¶ø</button>
            </div>
            <div class="modal-body">
                <div id="donateTabContent">
                    <div id="adminPaymentMethods" class="payment-methods"></div>
                    <div id="genPaymentForm" style="display:none; margin-top:15px; border-top:1px solid #eee; padding-top:15px;">
                        <div class="number-display">
                            <b><span id="genMethodName"></span></b>: <span id="genTargetNumber" style="color:#e74c3c;"></span> 
                            <i class="fas fa-copy" onclick="copyGenNumber()" style="cursor:pointer; margin-left:10px;"></i>
                        </div>
                        <form id="submitGeneralDonation">
                            <div class="form-group"><input type="number" id="genAmount" placeholder="‡¶ü‡¶æ‡¶ï‡¶æ‡¶∞ ‡¶™‡¶∞‡¶ø‡¶Æ‡¶æ‡¶£" required></div>
                            <div class="form-group"><input type="text" id="genSender" placeholder="‡¶™‡ßç‡¶∞‡ßá‡¶∞‡¶ï ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞" required></div>
                            <div class="form-group"><input type="text" id="genTrxId" placeholder="TrxID" required></div>
                            <button type="submit" class="btn-full-width">‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®</button>
                        </form>
                    </div>
                </div>
                <div id="historyTabContent" style="display:none;"><div id="donationHistoryList"></div></div>
            </div>
        </div>
    </div>

    <!-- Notification Modal -->
    <div id="notificationModal" class="notification-modal">
        <div class="notification-modal-content">
            <div class="notification-modal-header">
                <button id="closeNotificationModalBtn" class="back-btn-modal"><i class="fas fa-arrow-left"></i></button>
                <h2 class="modal-title">‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶®</h2>
                <div class="header-actions">
                    <button id="clear-all-notif-btn" class="clear-all-btn">‡¶∏‡¶¨ ‡¶Æ‡ßÅ‡¶õ‡ßÅ‡¶®</button>
                </div>
            </div>
            <div class="notif-settings-header">
                <span class="notif-toggle-label">‡¶®‡ßã‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶∂‡¶® ‡¶ö‡¶æ‡¶≤‡ßÅ ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶®</span>
                <label class="switch">
                    <input type="checkbox" id="globalNotifToggle" checked>
                    <span class="slider round"></span>
                </label>
            </div>
            <div id="notification-list-modal" class="notification-modal-body" style="padding: 0;"></div>
        </div>
    </div>

    <!-- Undo Toast -->
    <div id="undoToast">
        <span id="undoText">‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá</span>
        <button id="undoBtn">UNDO</button>
    </div>

    <!-- Image Viewer -->
    <div id="image-view-modal" class="image-modal">
        <span class="close-image-modal">&times;</span>
        <img class="image-modal-content" id="modal-image">
    </div>

    <!-- Edit Profile Modal -->
    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <form id="editProfileForm">
                <div class="modal-header">
                    <h2 class="modal-title">‡¶™‡ßç‡¶∞‡ßã‡¶´‡¶æ‡¶á‡¶≤ ‡¶∏‡¶Æ‡ßç‡¶™‡¶æ‡¶¶‡¶®‡¶æ</h2>
                    <span class="close-btn">&times;</span>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="editNameInput">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ</label>
                        <input type="text" id="editNameInput" placeholder="‡¶∏‡¶Æ‡ßç‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ" required>
                    </div>
                    <div class="form-group">
                        <label for="editAddressInput">‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ / ‡¶¨‡¶æ‡ßü‡ßã</label>
                        <textarea id="editAddressInput" rows="3" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶™‡¶∞‡ßç‡¶ï‡ßá ‡¶ï‡¶ø‡¶õ‡ßÅ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."></textarea>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="saveProfileBtn" type="submit">‡¶Ü‡¶™‡¶°‡ßá‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                </div>
            </form>
        </div>
    </div>

    <button id="scrollToTopBtn" class="scroll-to-top-btn"><i class="fas fa-arrow-up"></i></button>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest/dist/tf.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/nsfwjs@latest/dist/nsfwjs.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script src="script.js"></script>
    
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./service-worker.js').catch(console.error);
        }
    </script>
</body>
</html>